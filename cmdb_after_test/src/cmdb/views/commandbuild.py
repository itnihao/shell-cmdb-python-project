# -*- coding: utf-8 -*-import osfrom config import ANSIBLE_BIZPATHfrom config import ANSIBLE_BIZCONFIGfrom config import PYTHON_VPATHfrom config import ANSIBLE_PLAYBOOKfrom config import ANSIBLE_BIZTEMPclass CommandBuild:    def freshgit(self,path):        cmd=[]        cmd.append('cd %s'%path)        cmd.append('git fetch --all')        cmd.append('git checkout master')        cmd.append('git rebase origin/master')        return  ';'.join(cmd)    def build_sacmd(self):        cmd=[]        cmd.append('cd %s/sainit/'%ANSIBLE_BIZPATH)        cmd.append('%s playbook.yml -i %s/hosts '% (ANSIBLE_PLAYBOOK,ANSIBLE_BIZTEMP))        return  ';'.join(cmd)    def build_poolcmd(self,path):        cmd=[]        cmd.append('cd %s'%path)        cmd.append('%s playbook.yml -i %s/hosts '% (ANSIBLE_PLAYBOOK,ANSIBLE_BIZTEMP))        return  ';'.join(cmd)    def auto1(self,pool_byname):        cmd=[]        path='%s/%s'%(ANSIBLE_BIZPATH,pool_byname)        cmd.append(self.freshgit(path))        cmd.append(self.freshgit(ANSIBLE_BIZCONFIG))        cmd.append(self.build_sacmd())        return ';'.join(cmd)    def auto2(self,pool_byname):        path='%s/%s/init'%(ANSIBLE_BIZPATH,pool_byname)        return self.build_poolcmd(path)    def auto3(self,pool_byname):        path='%s/%s/daily'%(ANSIBLE_BIZPATH,pool_byname)        return self.build_poolcmd(path)