;var dc = {    bindevents: function () {        $("#dcaddbtn").click(function () {            $($("#datacenterdiv h3").get(0)).html("添加机房");            $("#name").val("");            $("#short_name").val("");            $("#address").val("");            $("#content").val("");            $("#idc_label").val("");            $("#primaryid").val("");            dc.msgtips("");            $("#datacenterdiv").foundation('reveal', 'open');        });        $("#doadd").click(function () {            var name = $.trim($("#name").val());            var short_name = $.trim($("#short_name").val());            var address = $.trim($("#address").val());            var content = $.trim($("#content").val());            var idc_label= $.trim($("#idc_label").val());            var primaryid = $.trim($("#primaryid").val());            if (name.length <= 0) {                dc.msgtips("请输入机房名称", 0);                return false;            } else {                dc.msgtips("");            }            if (short_name.length <= 0) {                dc.msgtips("请输入机房简称", 0);                return false;            } else {                dc.msgtips("");            }            if (address.length <= 0) {                dc.msgtips("请输入机房地址", 0);                return false;            } else {                dc.msgtips("");            }            if (primaryid && /^[1-9]\d*$/.test(primaryid)) {                $.ajax({                    'url': '/cmdb/datacenter/modify/' + primaryid,                    'type': 'post',                    'dataType': 'json',                    'data': {'name': name, 'short_name': short_name, 'address': address, 'content': content,'idc_label':idc_label},                    success: function (res) {                        if (res.code == 1) {                            dc.msgtips(res.msg, 0);                        } else {                            dc.msgtips(res.msg, 1);                            $("#datacenterdiv").foundation('reveal', 'close');                            window.location.href = window.location.href;                        }                    }                })            } else {                $.ajax({                    'url': '/cmdb/datacenter/add',                    'type': 'post',                    'dataType': 'json',                    'data': {'name': name, 'short_name': short_name, 'address': address, 'content': content,'idc_label':idc_label},                    success: function (res) {                        if (res.code == 1) {                            dc.msgtips(res.msg, 0);                        } else {                            dc.msgtips(res.msg, 1);                            $("#datacenterdiv").foundation('reveal', 'close');                            window.location.href = window.location.href;                        }                    }                })            }        });    },    msgtips: function (msg, type) {        if (msg) {            if (type == 0) {                $("#msgtips").removeClass("success");                $("#msgtips").addClass("alert");            } else if (type == 1) {                $("#msgtips").removeClass("alert");                $("#msgtips").addClass("success");            }            $("#msgtips").html(msg);            $("#msgtips").show();        } else {            $("#msgtips").hide();        }    },    getDcDetail: function (id) {        $.ajax({            'url': '/cmdb/datacenter/' + id,            'dataType': 'json',            success: function (res) {                if (res) {                    $($("#datacenterdiv h3").get(0)).html("编辑机房");                    dc.msgtips("");                    $("#name").val(res.name);                    $("#short_name").val(res.short_name);                    $("#address").val(res.address);                    $("#content").val(res.content);                    $("#idc_label").val(res.idc_label);                    $("#primaryid").val(res.id);                    $("#datacenterdiv").foundation('reveal', 'open');                }            }        });    },    deletedc: function (id) {        if (confirm("操作提醒\r\n数据删除之后不可恢复")) {            $.ajax({                'url': '/cmdb/datacenter/delete/' + id,                'type': 'post',                'dataType': 'json',                success: function (res) {                    window.location.href = window.location.href;                }            })        }    }};$(document).ready(function () {    dc.bindevents();});