;var dc = {    bindevents: function () {        $("#dcaddbtn").click(function () {            $($("#depdiv h3").get(0)).html("添加部门");            $("#name").val("");            $("#description").val("");            dc.msgtips("");            $("#depdiv").foundation('reveal', 'open');        });        $("#doadd").click(function () {            var name = $.trim($("#name").val());            var description = $.trim($("#description").val());            var primaryid = $.trim($("#primaryid").val());            if (name.length <= 0) {                dc.msgtips("请输入部门名称", 0);                return false;            } else {                dc.msgtips("");            }            if (primaryid && /^[1-9]\d*$/.test(primaryid)) {                $.ajax({                    'url': '/cmdb/ldapgroup/depadd/' + primaryid,                    'type': 'post',                    'dataType': 'json',                    'data': {'name': name, 'description': description},                    success: function (res) {                        if (res.code == 1) {                            dc.msgtips(res.msg, 0);                        } else {                            dc.msgtips(res.msg, 1);                            $("#depdiv").foundation('reveal', 'close');                            window.location.href = window.location.href;                        }                    }                })            } else {                console.log('1111')                $.ajax({                    'url': '/cmdb/ldapgroup/depadd/',                    'type': 'post',                    'dataType': 'json',                    'data': {'name': name, 'description': description},                    success: function (res) {                        console.log('22222')                        if (res.code == 1) {                            dc.msgtips(res.msg, 0);                        } else {                            console.log('33333')                            dc.msgtips(res.msg, 1);                            $("#depdiv").foundation('reveal', 'close');                            window.location.href = window.location.href;                        }                    }                })            }        });    },    msgtips: function (msg, type) {        if (msg) {            if (type == 0) {                $("#msgtips").removeClass("success");                $("#msgtips").addClass("alert");            } else if (type == 1) {                $("#msgtips").removeClass("alert");                $("#msgtips").addClass("success");            }            $("#msgtips").html(msg);            $("#msgtips").show();        } else {            $("#msgtips").hide();        }    },    getDcDetail: function (id) {        $.ajax({            'url': '/cmdb/datacenter/' + id,            'dataType': 'json',            success: function (res) {                if (res) {                    $($("#datacenterdiv h3").get(0)).html("编辑部门");                    dc.msgtips("");                    $("#name").val(res.name);                    $("#short_name").val(res.short_name);                    $("#address").val(res.address);                    $("#content").val(res.content);                    $("#idc_label").val(res.idc_label);                    $("#primaryid").val(res.id);                    $("#depdiv").foundation('reveal', 'open');                }            }        });    },    deletedc: function (id) {        if (confirm("操作提醒\r\n数据删除之后不可恢复")) {            $.ajax({                'url': '/cmdb/datacenter/delete/' + id,                'type': 'post',                'dataType': 'json',                success: function (res) {                    window.location.href = window.location.href;                }            })        }    }};$(document).ready(function () {    dc.bindevents();});