/**
 * Created by xuepingning on 2016/9/7.
 */

Highcharts.setOptions({
    global: {
        timezoneOffset: -8 * 60
    }
});

var chart = {
    "budget2012List": [
        132000,
        133000,
        134000,
        140000,
        144000,
        146000,
        146000,
        146000,
        148000,
        150000
    ],
    "budget2011List": [
        89000,
        11000,
        23000,
        11000,
        12000,
        12000,
        13000,
        13000,
        13000,
        14000
    ],
    "names": [
        "Securities and Exchange Commission",
        "Other Commissions and Boards(discretion)",
        "Office of Chief Economist(discretion)",
        "Departmental Management(discretion)",
        "United States Geological Survey(discretion)",
        "Public Company Accounting Oversight Board(discretion)",
        "Christopher Columbus Fellowship Foundation(discretion)",
        "Morris K. Udall and Stewart L. Udall Foundation(discretion)",
        "Other(discretion)",
        "Office of the Secretary(discretion)"
    ]
};
let ECharts;
            require(['echarts'], function (ec) {
                ECharts = ec;
            });
            let obama_budget_2012 = {
                "budget2012List": [
                    132000,
                    133000,
                    134000,
                    140000,
                    144000,
                    146000,
                    146000,
                    146000,
                    148000,
                    150000
                ],
                "budget2011List": [
                    89000,
                    11000,
                    23000,
                    11000,
                    12000,
                    12000,
                    13000,
                    13000,
                    13000,
                    14000
                ],
                "names": [
                    "Securities and Exchange Commission",
                    "Other Commissions and Boards(discretion)",
                    "Office of Chief Economist(discretion)",
                    "Departmental Management(discretion)",
                    "United States Geological Survey(discretion)",
                    "Public Company Accounting Oversight Board(discretion)",
                    "Christopher Columbus Fellowship Foundation(discretion)",
                    "Morris K. Udall and Stewart L. Udall Foundation(discretion)",
                    "Other(discretion)",
                    "Office of the Secretary(discretion)"
                ]
            };
            let myChart = ECharts.init(document.getElementById('plat_pv'));
            myChart.showLoading();
            myChart.hideLoading();
            let option = {
                tooltip: {
                    show: true,
                    trigger: 'item'
                },
                toolbox: {
                    show: true,
                    feature: {
                        mark: {show: true},
                        dataView: {show: true, readOnly: false},
                        magicType: {show: true, type: ['line', 'bar']},
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
                calculable: true,
                legend: {
                    data: ['Growth', 'Budget 2011', 'Budget 2012'],
                    itemGap: 12
                },
                grid: {
                    top: '12%',
                    left: '1%',
                    right: '10%',
                    containLabel: true
                },
                xAxis: [
                    {
                        type: 'category',
                        data: obama_budget_2012.names
                    }
                ],
                yAxis: [
                    {
                        type: 'value',
                        name: 'Budget (million USD)',
                        axisLabel: {
                            formatter: function (a) {
                                a = +a;
                                return isFinite(a)
                                    ? echarts.format.addCommas(+a / 1000)
                                    : '';
                            }
                        }
                    }
                ],
                dataZoom: [
                    {
                        show: true,
                        start: 94,
                        end: 100
                    },
                    {
                        type: 'inside',
                        start: 94,
                        end: 100
                    },
                    {
                        show: true,
                        yAxisIndex: 0,
                        filterMode: 'empty',
                        width: 30,
                        height: '80%',
                        showDataShadow: false,
                        left: '93%'
                    }
                ],
                series: [
                    {
                        name: 'Budget 2011',
                        type: 'bar',
                        data: obama_budget_2012.budget2011List
                    },
                    {
                        name: 'Budget 2012',
                        type: 'bar',
                        data: obama_budget_2012.budget2012List
                    }
                ]
            };

            myChart.setOption(option);

//---------------------------------------------------------------------------
//allow highlighting of individual series while muting the others
function showSeries(e) {
    this.graph.attr("stroke", (e.checked ? this.color : '#ccc'));
    if (e.checked == true) {
        this.group.toFront();
        if (this.visible == false) {
            this.show();
        }
    }
}
function highlightSer(chart) {
    var series = chart.series, i;
    for (i = 0; i < series.length; i++) {
        if (series[i].checkbox.checked) {
            showSeries.call(series[i], {checked: true});
        }
    }
}
//---------------------------------------------------------------------------


//---------------------------------------------------------------------------
//custom colors
Highcharts.setOptions({
    colors: ['#f15a60', '#d77fb4', '#7ac36a', '#faa75b', '#9e67ab', '#5a9bd4', '#b8d2ec', '#185aa9']
});
//---------------------------------------------------------------------------


//---------------------------------------------------------------------------
//the chart options
var optionsChart1 = {
    chart: {
        renderTo: 'container',
        defaultSeriesType: 'line',
        borderWidth: 1,
        borderColor: '#ccc',
        marginLeft: 100,
        marginRight: 165,
        backgroundColor: '#eee',
        plotBackgroundColor: '#fff',
        showAxes: true
    },
    title: {
        text: 'Utilization'
    },
    credits: {enabled: false},
    exporting: {enabled: false},
    legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'top',
        backgroundColor: '#fff',
        borderColor: '#ccc',
        borderWidth: .5,
        y: 30,
        x: 0,
        itemWidth: 135,
        itemStyle: {
            fontWeight: 'bold'
        },
        itemHiddenStyle: {
            fontWeight: 'bold'
        }
    },
    tooltip: {
        formatter: function () {
            return '<b>Run:</b> ' + this.x +
                '<br/><b>Set:</b> ' + this.series.name +
                '<br/><b>Percent:</b> ' + Highcharts.numberFormat(this.y, 0, '.') + '%';
        }
    },
    plotOptions: {
        series: {
            lineColor: '#ccc',
            showCheckbox: true,
            shadow: false,
            lineWidth: 3,
            marker: {
                symbol: 'circle',
                radius: 0,
                states: {
                    hover: {
                        radius: 3
                    }
                }
            },
            events: {
                checkboxClick: showSeries
            }
        }
    },
    xAxis: {
        lineColor: '#999',
        lineWidth: 1,
        tickColor: '#666',
        tickLength: 3,
        title: {
            text: 'Run Number',
            style: {
                color: '#333'
            }
        },
    },
    yAxis: {
        max: 100,
        lineColor: '#999',
        lineWidth: 1,
        tickColor: '#666',
        tickWidth: 1,
        tickLength: 3,
        gridLineColor: '#ddd',
        title: {
            text: 'Utilization<br/>Percent',
            rotation: 0,
            margin: 20,
            style: {
                color: '#333'
            }
        },
        labels: {
            style: {
                fontSize: '10px',
                color: '#333',
            },
            margin: 10,
            formatter: function () {
                var uom = '';
                if (this.isLast) {
                    uom = ' %';
                }
                return this.value + uom;
            }
        },
    },
    series: [{
        name: 'Set 1A',
        states: {
            checked: {
                lineWidth: 10
            }
        },
        data: [95.8405546, 94.7429232, 95.8983247, 96.3604853, 95.6672444, 92.6632005, 95.8983247, 93.1253611, 94.8584633, 97.2848065, 97.2848065, 97.5736568, 93.7608319, 95.1473137, 96.0716349, 96.938186, 94.1074523, 94.4540728, 92.1432698, 88.7348354, 89.8902369, 85.5574812, 86.0196418, 87.2328134, 84.1132293, 85.2108608, 86.3084922, 88.5615251, 88.7926054, 86.6551127, 89.196996, 88.0415945, 91.1034084, 90.6412478, 87.6372039, 87.3483536, 87.3483536, 87.9260543, 87.6372039, 88.7926054],
    }, {
        name: 'Set 1B',
        data: [77.9279279, 79.954955, 78.0931587, 77.874818, 78.3842795, 79.4759825, 80.9869376, 79.5355588, 77.7213353, 81.6400581, 81.8641618, 82.6589595, 80.9971098, 81.8641618, 83.2369942, 81.3583815, 76.1560694, 77.3121387, 80.1300578, 78.9017341, 79.4797688, 78.3959538, 79.1184971, 79.3352601, 77.0231214, 76.6618497, 76.0115607, 76.9508671, 78.6127168, 77.3121387, 76.4450867, 76.3728324, 77.3121387, 76.3728324, 75.7947977, 77.1676301, 76.0115607, 74.566474, 74.2774566, 73.6271676],
    }, {
        name: 'Set 1C',
        data: [88.7475538, 89.3998695, 90.8675799, 90.9980431, 91.1937378, 92.8245271, 93.2159165, 92.1069798, 91.2589693, 91.4872798, 91.8134377, 91.8786693, 91.9439008, 91.7482061, 90.8349641, 86.5666775, 87.5448321, 86.4688621, 87.1535703, 87.1861754, 86.7623084, 86.7623084, 89.5989566, 89.892403, 88.9794588, 88.8816433, 89.2403, 88.5555918, 88.2947506, 88.7186175, 88.4251712, 88.0013042, 87.740463, 88.0665145, 87.5774372, 87.9034888, 87.6466754, 87.3207301, 86.9340233, 86.0608021],
    }, {
        name: 'Set 2A',
        data: [74.8101684, 77.0551337, 79.9933972, 84.0541433, 86.6292506, 86.8933641, 93.6612743, 95.3780125, 97.3588643, 96.7315946, 95.3780125, 93.0670188, 92.1426213, 92.2086497, 90.5579399, 91.4493232, 92.6048201, 90.6239683, 91.6143942, 87.5247525, 87.4215913, 82.9646748, 82.0732915, 79.795312, 76.0647078, 74.3479696, 73.2585012, 73.0274018, 74.1498845, 74.3809838, 72.1030043, 70.1551667, 69.2206077, 67.3051519, 68.2959049, 65.8190225, 65.3566711, 64.1347424, 63.2100396, 61.4266843],
    }, {
        name: 'Set 2B',
        data: [78.9517471, 82.7385892, 86.9709544, 88.879668, 90.2904564, 91.014975, 90.3494176, 87.687188, 88.3527454, 90.765391, 85.1913478, 83.7344398, 80.746888, 81.659751, 79.6680498, 69.8755187, 71.3692946, 70.6224066, 66.9709544, 54.9377593, 50.8713693, 46.9709544, 55.1037344, 52.6970954, 50.6224066, 53.1950207, 54.7717842, 53.7759336, 51.8672199, 61.4107884, 67.827529, 70.39801, 69.7847682, 69.5364238, 70.6125828, 69.9503311, 69.205298, 67.8807947, 68.3774834, 68.5430464],
    }, {
        name: 'Set 1 Total',
        visible: false,
        data: [88.3994126, 88.8562571, 89.4344515, 89.5802949, 89.5964998, 89.8071625, 91.2388664, 89.5870445, 89.2469636, 90.9149798, 91.1179421, 91.4091571, 90.0016179, 90.4869762, 90.6002265, 88.3047557, 86.8327402, 86.6548043, 86.9783242, 85.7651246, 86.0077645, 84.5519249, 86.2504044, 86.7842122, 84.9401488, 85.1180848, 85.4577807, 85.9592365, 86.2665804, 85.5871886, 85.9592365, 85.4092527, 86.3474604, 86.1695244, 84.9563248, 85.3445487, 84.9587579, 84.6352903, 84.3080393, 84.0502658],
    }, {
        name: 'Set 2 Total',
        visible: false,
        data: [75.9867644, 78.67265, 81.9792159, 85.4274917, 87.6712329, 88.0642874, 92.7203971, 93.1930986, 94.8002836, 95.0366344, 92.4840463, 90.4109589, 88.8993859, 89.2064242, 87.4586679, 85.3094001, 86.5611715, 84.9315068, 84.6008503, 78.2526564, 77.019367, 72.7208314, 74.3977326, 72.0831365, 68.8238073, 68.3278224, 67.9971658, 67.5484176, 67.8082192, 70.6896552, 70.8854782, 70.2243211, 69.381492, 67.9414542, 68.9565628, 66.9971671, 66.4542021, 65.2030217, 64.6836638, 63.4560907],
    }, {
        name: 'All Sets Total',
        data: [83.3301158, 84.6955515, 86.4007689, 87.8904373, 88.8130706, 89.0982503, 91.8412454, 91.0532385, 91.504901, 92.590813, 91.6730695, 91.0033605, 89.5535286, 89.9663946, 89.3230917, 87.0871736, 86.7223502, 85.9543011, 86.0119048, 82.7109532, 82.3540707, 79.7427035, 81.4324117, 80.8083717, 78.3890169, 78.2930108, 78.3602151, 78.4754224, 78.7634409, 79.53149, 79.8310454, 79.2358645, 79.4490305, 78.757919, 78.4507583, 77.8844308, 77.4354545, 76.7348114, 76.3477928, 75.6966389],
        selected: true
    }]
}
//---------------------------------------------------------------------------


//---------------------------------------------------------------------------
//call the chart
chart = new Highcharts.Chart(optionsChart1, highlightSer);
//---------------------------------------------------------------------------


//---------------------------------------------------------------------------
// ---- show/hide/check/un-check all series
$('#showAll').click(function () {
    for (i = 0; i < chart.series.length; i++) {
        chart.series[i].show();
    }
});
$('#hideAll').click(function () {
    for (i = 0; i < chart.series.length; i++) {
        chart.series[i].hide();
    }
});
$('#checkAll').click(function () {
    for (i = 0; i < chart.series.length; i++) {
        if (chart.series[i].selected == false) {
            chart.series[i].select();
            showSeries.call(chart.series[i], {checked: true});
        }
    }
});
$('#uncheckAll').click(function () {
    for (i = 0; i < chart.series.length; i++) {
        if (chart.series[i].selected == true) {
            chart.series[i].select();
            showSeries.call(chart.series[i], {checked: false});
        }
    }
});
//---------------------------------------------------------------------------


//---------------------------------------------------------------------------
//reset the chart to original specs
$('#resetChart').click(function () {
    chart.destroy();
    chart = new Highcharts.Chart(optionsChart1, highlightSer);
});


var data = {
    "units": "",
    "series": [
        {
            "counter": "nginx.active/s=a,t=nginx",
            "endpoint": "10.126.81.93",
            "data": [
                [
                    1473162780000,
                    24.0
                ],
                [
                    1473162840000,
                    22.0
                ],
                [
                    1473162900000,
                    16.0
                ],
                [
                    1473162960000,
                    21.0
                ],
                [
                    1473163020000,
                    21.0
                ],
                [
                    1473163080000,
                    20.0
                ],
                [
                    1473163140000,
                    27.0
                ],
                [
                    1473163200000,
                    34.0
                ],
                [
                    1473163260000,
                    43.0
                ],
                [
                    1473163320000,
                    19.0
                ],
                [
                    1473163380000,
                    31.0
                ],
                [
                    1473163440000,
                    28.0
                ],
                [
                    1473163500000,
                    29.0
                ],
                [
                    1473163560000,
                    25.0
                ],
                [
                    1473163620000,
                    22.0
                ],
                [
                    1473163680000,
                    25.0
                ],
                [
                    1473163740000,
                    46.0
                ],
                [
                    1473163800000,
                    22.0
                ],
                [
                    1473163860000,
                    27.0
                ],
                [
                    1473163920000,
                    22.0
                ],
                [
                    1473163980000,
                    25.0
                ],
                [
                    1473164040000,
                    26.0
                ],
                [
                    1473164100000,
                    36.0
                ],
                [
                    1473164160000,
                    31.0
                ],
                [
                    1473164220000,
                    27.0
                ],
                [
                    1473164280000,
                    37.0
                ],
                [
                    1473164340000,
                    42.0
                ],
                [
                    1473164400000,
                    28.0
                ],
                [
                    1473164460000,
                    39.0
                ],
                [
                    1473164520000,
                    23.0
                ],
                [
                    1473164580000,
                    27.0
                ],
                [
                    1473164640000,
                    23.0
                ],
                [
                    1473164700000,
                    20.0
                ],
                [
                    1473164760000,
                    31.0
                ],
                [
                    1473164820000,
                    25.0
                ],
                [
                    1473164880000,
                    34.0
                ],
                [
                    1473164940000,
                    29.0
                ],
                [
                    1473165000000,
                    29.0
                ],
                [
                    1473165060000,
                    43.0
                ],
                [
                    1473165120000,
                    40.0
                ],
                [
                    1473165180000,
                    32.0
                ],
                [
                    1473165240000,
                    31.0
                ],
                [
                    1473165300000,
                    38.0
                ],
                [
                    1473165360000,
                    35.0
                ],
                [
                    1473165420000,
                    34.0
                ],
                [
                    1473165480000,
                    32.0
                ],
                [
                    1473165540000,
                    38.0
                ],
                [
                    1473165600000,
                    32.0
                ],
                [
                    1473165660000,
                    24.0
                ],
                [
                    1473165720000,
                    47.0
                ],
                [
                    1473165780000,
                    46.0
                ],
                [
                    1473165840000,
                    31.0
                ],
                [
                    1473165900000,
                    37.0
                ],
                [
                    1473165960000,
                    32.0
                ],
                [
                    1473166020000,
                    27.0
                ],
                [
                    1473166080000,
                    33.0
                ],
                [
                    1473166140000,
                    33.0
                ],
                [
                    1473166200000,
                    34.0
                ]
            ],
            "name": "10.126.81.93",
            "cf": "AVERAGE"
        },
        {
            "counter": "nginx.active/s=a,t=nginx",
            "endpoint": "10.126.83.27",
            "data": [
                [
                    1473162780000,
                    29.0
                ],
                [
                    1473162840000,
                    21.0
                ],
                [
                    1473162900000,
                    32.0
                ],
                [
                    1473162960000,
                    30.0
                ],
                [
                    1473163020000,
                    19.0
                ],
                [
                    1473163080000,
                    24.0
                ],
                [
                    1473163140000,
                    30.0
                ],
                [
                    1473163200000,
                    40.0
                ],
                [
                    1473163260000,
                    32.0
                ],
                [
                    1473163320000,
                    33.0
                ],
                [
                    1473163380000,
                    31.0
                ],
                [
                    1473163440000,
                    30.0
                ],
                [
                    1473163500000,
                    31.0
                ],
                [
                    1473163560000,
                    30.0
                ],
                [
                    1473163620000,
                    31.0
                ],
                [
                    1473163680000,
                    21.0
                ],
                [
                    1473163740000,
                    29.0
                ],
                [
                    1473163800000,
                    26.0
                ],
                [
                    1473163860000,
                    37.0
                ],
                [
                    1473163920000,
                    31.0
                ],
                [
                    1473163980000,
                    29.0
                ],
                [
                    1473164040000,
                    28.0
                ],
                [
                    1473164100000,
                    32.0
                ],
                [
                    1473164160000,
                    32.0
                ],
                [
                    1473164220000,
                    59.0
                ],
                [
                    1473164280000,
                    22.0
                ],
                [
                    1473164340000,
                    35.0
                ],
                [
                    1473164400000,
                    24.0
                ],
                [
                    1473164460000,
                    30.0
                ],
                [
                    1473164520000,
                    35.0
                ],
                [
                    1473164580000,
                    24.0
                ],
                [
                    1473164640000,
                    38.0
                ],
                [
                    1473164700000,
                    34.0
                ],
                [
                    1473164760000,
                    35.0
                ],
                [
                    1473164820000,
                    27.0
                ],
                [
                    1473164880000,
                    38.0
                ],
                [
                    1473164940000,
                    28.0
                ],
                [
                    1473165000000,
                    45.0
                ],
                [
                    1473165060000,
                    37.0
                ],
                [
                    1473165120000,
                    35.0
                ],
                [
                    1473165180000,
                    44.0
                ],
                [
                    1473165240000,
                    29.0
                ],
                [
                    1473165300000,
                    35.0
                ],
                [
                    1473165360000,
                    26.0
                ],
                [
                    1473165420000,
                    39.0
                ],
                [
                    1473165480000,
                    35.0
                ],
                [
                    1473165540000,
                    27.0
                ],
                [
                    1473165600000,
                    26.0
                ],
                [
                    1473165660000,
                    36.0
                ],
                [
                    1473165720000,
                    25.0
                ],
                [
                    1473165780000,
                    44.0
                ],
                [
                    1473165840000,
                    46.0
                ],
                [
                    1473165900000,
                    37.0
                ],
                [
                    1473165960000,
                    13.0
                ],
                [
                    1473166020000,
                    25.0
                ],
                [
                    1473166080000,
                    28.0
                ],
                [
                    1473166140000,
                    33.0
                ],
                [
                    1473166200000,
                    31.0
                ]
            ],
            "name": "10.126.83.27",
            "cf": "AVERAGE"
        },
        {
            "counter": "nginx.active/s=a,t=nginx",
            "endpoint": "10.126.87.137",
            "data": [
                [
                    1473162780000,
                    23.0
                ],
                [
                    1473162840000,
                    18.0
                ],
                [
                    1473162900000,
                    37.0
                ],
                [
                    1473162960000,
                    28.0
                ],
                [
                    1473163020000,
                    20.0
                ],
                [
                    1473163080000,
                    29.0
                ],
                [
                    1473163140000,
                    38.0
                ],
                [
                    1473163200000,
                    36.0
                ],
                [
                    1473163260000,
                    28.0
                ],
                [
                    1473163320000,
                    28.0
                ],
                [
                    1473163380000,
                    27.0
                ],
                [
                    1473163440000,
                    20.0
                ],
                [
                    1473163500000,
                    34.0
                ],
                [
                    1473163560000,
                    33.0
                ],
                [
                    1473163620000,
                    22.0
                ],
                [
                    1473163680000,
                    32.0
                ],
                [
                    1473163740000,
                    27.0
                ],
                [
                    1473163800000,
                    24.0
                ],
                [
                    1473163860000,
                    35.0
                ],
                [
                    1473163920000,
                    24.0
                ],
                [
                    1473163980000,
                    31.0
                ],
                [
                    1473164040000,
                    20.0
                ],
                [
                    1473164100000,
                    30.0
                ],
                [
                    1473164160000,
                    26.0
                ],
                [
                    1473164220000,
                    17.0
                ],
                [
                    1473164280000,
                    37.0
                ],
                [
                    1473164340000,
                    34.0
                ],
                [
                    1473164400000,
                    29.0
                ],
                [
                    1473164460000,
                    23.0
                ],
                [
                    1473164520000,
                    30.0
                ],
                [
                    1473164580000,
                    35.0
                ],
                [
                    1473164640000,
                    27.0
                ],
                [
                    1473164700000,
                    39.0
                ],
                [
                    1473164760000,
                    31.0
                ],
                [
                    1473164820000,
                    33.0
                ],
                [
                    1473164880000,
                    25.0
                ],
                [
                    1473164940000,
                    47.0
                ],
                [
                    1473165000000,
                    28.0
                ],
                [
                    1473165060000,
                    35.0
                ],
                [
                    1473165120000,
                    33.0
                ],
                [
                    1473165180000,
                    37.0
                ],
                [
                    1473165240000,
                    29.0
                ],
                [
                    1473165300000,
                    32.0
                ],
                [
                    1473165360000,
                    24.0
                ],
                [
                    1473165420000,
                    43.0
                ],
                [
                    1473165480000,
                    28.0
                ],
                [
                    1473165540000,
                    32.0
                ],
                [
                    1473165600000,
                    39.0
                ],
                [
                    1473165660000,
                    35.0
                ],
                [
                    1473165720000,
                    34.0
                ],
                [
                    1473165780000,
                    28.0
                ],
                [
                    1473165840000,
                    22.0
                ],
                [
                    1473165900000,
                    37.0
                ],
                [
                    1473165960000,
                    33.0
                ],
                [
                    1473166020000,
                    37.0
                ],
                [
                    1473166080000,
                    43.0
                ],
                [
                    1473166140000,
                    35.0
                ],
                [
                    1473166200000,
                    37.0
                ]
            ],
            "name": "10.126.87.137",
            "cf": "AVERAGE"
        },
        {
            "counter": "nginx.active/s=a,t=nginx",
            "endpoint": "10.126.92.91",
            "data": [
                [
                    1473162780000,
                    25.0
                ],
                [
                    1473162840000,
                    27.0
                ],
                [
                    1473162900000,
                    32.0
                ],
                [
                    1473162960000,
                    21.0
                ],
                [
                    1473163020000,
                    24.0
                ],
                [
                    1473163080000,
                    30.0
                ],
                [
                    1473163140000,
                    33.0
                ],
                [
                    1473163200000,
                    27.0
                ],
                [
                    1473163260000,
                    28.0
                ],
                [
                    1473163320000,
                    31.0
                ],
                [
                    1473163380000,
                    31.0
                ],
                [
                    1473163440000,
                    23.0
                ],
                [
                    1473163500000,
                    23.0
                ],
                [
                    1473163560000,
                    27.0
                ],
                [
                    1473163620000,
                    27.0
                ],
                [
                    1473163680000,
                    25.0
                ],
                [
                    1473163740000,
                    34.0
                ],
                [
                    1473163800000,
                    28.0
                ],
                [
                    1473163860000,
                    27.0
                ],
                [
                    1473163920000,
                    25.0
                ],
                [
                    1473163980000,
                    26.0
                ],
                [
                    1473164040000,
                    26.0
                ],
                [
                    1473164100000,
                    29.0
                ],
                [
                    1473164160000,
                    19.0
                ],
                [
                    1473164220000,
                    30.0
                ],
                [
                    1473164280000,
                    35.0
                ],
                [
                    1473164340000,
                    21.0
                ],
                [
                    1473164400000,
                    29.0
                ],
                [
                    1473164460000,
                    32.0
                ],
                [
                    1473164520000,
                    22.0
                ],
                [
                    1473164580000,
                    34.0
                ],
                [
                    1473164640000,
                    22.0
                ],
                [
                    1473164700000,
                    37.0
                ],
                [
                    1473164760000,
                    17.0
                ],
                [
                    1473164820000,
                    25.0
                ],
                [
                    1473164880000,
                    37.0
                ],
                [
                    1473164940000,
                    30.0
                ],
                [
                    1473165000000,
                    33.0
                ],
                [
                    1473165060000,
                    29.0
                ],
                [
                    1473165120000,
                    28.0
                ],
                [
                    1473165180000,
                    33.0
                ],
                [
                    1473165240000,
                    31.0
                ],
                [
                    1473165300000,
                    35.0
                ],
                [
                    1473165360000,
                    20.0
                ],
                [
                    1473165420000,
                    27.0
                ],
                [
                    1473165480000,
                    35.0
                ],
                [
                    1473165540000,
                    21.0
                ],
                [
                    1473165600000,
                    35.0
                ],
                [
                    1473165660000,
                    22.0
                ],
                [
                    1473165720000,
                    22.0
                ],
                [
                    1473165780000,
                    30.0
                ],
                [
                    1473165840000,
                    30.0
                ],
                [
                    1473165900000,
                    28.0
                ],
                [
                    1473165960000,
                    25.0
                ],
                [
                    1473166020000,
                    43.0
                ],
                [
                    1473166080000,
                    34.0
                ],
                [
                    1473166140000,
                    27.0
                ],
                [
                    1473166200000,
                    32.0
                ]
            ],
            "name": "10.126.92.91",
            "cf": "AVERAGE"
        },
        {
            "counter": "nginx.active/s=a,t=nginx",
            "endpoint": "10.126.92.97",
            "data": [
                [
                    1473162780000,
                    28.0
                ],
                [
                    1473162840000,
                    26.0
                ],
                [
                    1473162900000,
                    19.0
                ],
                [
                    1473162960000,
                    24.0
                ],
                [
                    1473163020000,
                    32.0
                ],
                [
                    1473163080000,
                    23.0
                ],
                [
                    1473163140000,
                    29.0
                ],
                [
                    1473163200000,
                    33.0
                ],
                [
                    1473163260000,
                    35.0
                ],
                [
                    1473163320000,
                    33.0
                ],
                [
                    1473163380000,
                    26.0
                ],
                [
                    1473163440000,
                    27.0
                ],
                [
                    1473163500000,
                    25.0
                ],
                [
                    1473163560000,
                    21.0
                ],
                [
                    1473163620000,
                    29.0
                ],
                [
                    1473163680000,
                    25.0
                ],
                [
                    1473163740000,
                    23.0
                ],
                [
                    1473163800000,
                    20.0
                ],
                [
                    1473163860000,
                    32.0
                ],
                [
                    1473163920000,
                    22.0
                ],
                [
                    1473163980000,
                    30.0
                ],
                [
                    1473164040000,
                    28.0
                ],
                [
                    1473164100000,
                    20.0
                ],
                [
                    1473164160000,
                    30.0
                ],
                [
                    1473164220000,
                    25.0
                ],
                [
                    1473164280000,
                    35.0
                ],
                [
                    1473164340000,
                    27.0
                ],
                [
                    1473164400000,
                    27.0
                ],
                [
                    1473164460000,
                    25.0
                ],
                [
                    1473164520000,
                    25.0
                ],
                [
                    1473164580000,
                    27.0
                ],
                [
                    1473164640000,
                    24.0
                ],
                [
                    1473164700000,
                    30.0
                ],
                [
                    1473164760000,
                    34.0
                ],
                [
                    1473164820000,
                    25.0
                ],
                [
                    1473164880000,
                    39.0
                ],
                [
                    1473164940000,
                    33.0
                ],
                [
                    1473165000000,
                    31.0
                ],
                [
                    1473165060000,
                    16.0
                ],
                [
                    1473165120000,
                    27.0
                ],
                [
                    1473165180000,
                    30.0
                ],
                [
                    1473165240000,
                    28.0
                ],
                [
                    1473165300000,
                    28.0
                ],
                [
                    1473165360000,
                    26.0
                ],
                [
                    1473165420000,
                    20.0
                ],
                [
                    1473165480000,
                    31.0
                ],
                [
                    1473165540000,
                    36.0
                ],
                [
                    1473165600000,
                    26.0
                ],
                [
                    1473165660000,
                    26.0
                ],
                [
                    1473165720000,
                    31.0
                ],
                [
                    1473165780000,
                    28.0
                ],
                [
                    1473165840000,
                    24.0
                ],
                [
                    1473165900000,
                    25.0
                ],
                [
                    1473165960000,
                    35.0
                ],
                [
                    1473166020000,
                    24.0
                ],
                [
                    1473166080000,
                    28.0
                ],
                [
                    1473166140000,
                    29.0
                ],
                [
                    1473166200000,
                    28.0
                ]
            ],
            "name": "10.126.92.97",
            "cf": "AVERAGE"
        }
    ],
    "title": "nginx.active/s=a,t=nginx"
};

$(function () {
    // $.getJSON('https://www.highcharts.com/samples/data/jsonp.php?filename=usdeur.json&callback=?', function (data) {

    $('#container').highcharts({

        chart: {
            zoomType: 'x'
        },
        title: {
            text: 'USD to EUR exchange rate over time'
        },
        // subtitle: {
        //     text: document.ontouchstart === undefined ?
        //         'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
        // },
        xAxis: {
            type: 'datetime'
        },
        yAxis: {
            title: {
                text: 'Exchange rate'
            }
        },
        legend: {
            enabled: false
        },
        plotOptions: {
            area: {
                fillColor: {
                    linearGradient: {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 1
                    },
                    stops: [
                        [0, Highcharts.getOptions().colors[0]],
                        [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                    ]
                },
                marker: {
                    radius: 2
                },
                lineWidth: 1,
                states: {
                    hover: {
                        lineWidth: 1
                    }
                },
                threshold: null
            }
        },

        series: [{
            name: data.series[0].name,
            data: data.series[0].data
        }, {
            name: data.series[1].name,
            data: data.series[1].data
        }, {
            name: data.series[2].name,
            data: data.series[2].data
        }, {
            name: data.series[3].name,
            data: data.series[3].data
        }, {
            name: data.series[4].name,
            data: data.series[4].data
        }
        ]
    });
    // });
});

// request("/static/js/virtual/chart", "", platform);

// function platform(txt) {
//     var disc = JSON.parse(txt);
//     var x_lable = disc.series[0].data;
//     var x_category = [];
//     for (var ind = 0; ind < x_lable.length; ind++) {
//         var date = new Date(x_lable[ind][0]);
//         var y = date.getFullYear();
//         var m = date.getMonth() + 1;
//         var d = date.getDate();
//         var h = date.getHours();
//         var mm = date.getMinutes();
//         var s = date.getSeconds();
//         x_category[ind] = y + '-' + add0(m) + '-' + add0(d) + ' ' + add0(h) + ':' + add0(mm) + ':' + add0(s);
//     }
//     function add0(m) {
//         return m < 10 ? '0' + m : m;
//     }
//
//     var names=[];
//     for (var inde=0;inde<disc.series.length;inde++){
//         names[inde]=disc.series[inde].name;
//     }
//     $('#chart').highcharts({
//         title: {
//             text: "nginx.active/s=a,t=nginx",
//             x: -20 //center
//         },
//         // subtitle: {
//         //     text: 'Source: WorldClimate.com',
//         //     x: -20
//         // },
//         xAxis: {
//             categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
//         },
//         yAxis: {
//             // title: {
//             //     text: 'Temperature (°C)'
//             // },
//             plotLines: [{
//                 value: 0,
//                 width: 1,
//                 color: '#808080'
//             }]
//         },
//         // tooltip: {
//         //     valueSuffix: '°C'
//         // },
//         legend: {
//             layout: 'vertical',
//             align: 'right',
//             verticalAlign: 'middle',
//             borderWidth: 0
//         },
//         series: [{
//             name: 'Tokyo',
//             data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
//         }, {
//             name: 'New York',
//             data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
//         }, {
//             name: 'Berlin',
//             data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
//         }, {
//             name: 'London',
//             data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 16.6, 14.2, 10.3, 6.6, 4.8]
//         }]
//     });
// }
// })
// ;


// Create a new JavaScript Date object based on the timestamp
// multiplied by 1000 so that the argument is in milliseconds, not seconds.
// var date = new Date(unix_timestamp * 1000);
// // Hours part from the timestamp
// var hours = date.getHours();
// // Minutes part from the timestamp
// var minutes = "0" + date.getMinutes();
// // Seconds part from the timestamp
// var seconds = "0" + date.getSeconds();
//
// // Will display time in 10:30:23 format
// var formattedTime = hours + ':' + minutes.substr(-2) + ':' + seconds.subs